{{ if eq .chezmoi.os "windows" -}}
<#
    Post‑install script for Windows
    Installs CLI tools via Scoop and required PowerShell modules.
    Idempotent – safe to re‑run.
#>

# ensure NuGet provider + PSGallery trust – silent
[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
$null = Get-PackageProvider -Name NuGet -MinimumVersion 2.8.5.201 `
                            -ForceBootstrap -Scope CurrentUser
Set-PSRepository -Name PSGallery -InstallationPolicy Trusted

# module install
Install-Module PSFzf -Scope CurrentUser -Force

Write-Host "Windows shell tooling is ready."
{{ end -}}
